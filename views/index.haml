<!doctype html>
%html
  %head
    %meta{:charset => "utf-8"}/
    %title proxee.io
    %link{:href => "/stylesheets/style.css", :rel => "stylesheet"}/
  %body
    %h1 proxee.io
    %a#reset{:href => "#"} Clear all
    #container
      #sidebar
        - @events.each_with_index do |e, i|
          %ul
            %li
              %a{:href => '#', :class => i == 0 ? 'selected' : ''}
                %h2= e.request_url
                %p= e.response_code
      #main
        %a#gist{:href => "#"} Gist it!

        - first_event = @events.first

        .info-container
          .info
            .header Request URL
            .value= first_event.request_url

          .info
            .header Request Method
            .value= first_event.request_verb

          .info
            .header Status Code
            .value= first_event.response_code

          - if first_event.request_body.present?
            %dd Request Body
            %dt= first_event.request_body


        .info-container
          %h3 Request Headers

          - JSON.parse(first_event.request_headers).each do |k,v|
            .info
              .header= k
              .value= v

        .info-container
          %h3 Response Headers
          - JSON.parse(first_event.response_headers).each do |k,v|
            .info
              .header= k
              .value= v


      .clear
